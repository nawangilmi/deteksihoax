{% extends "navbar.html" %}
{% block content %}
<div id="content">
    <div style="margin-bottom: 20px; background-color: #fcfcfc; padding: 5px; border-radius: 8px;  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        <h2 style="padding: 8px;color: #2B3467;font-weight: 200px;">Deteksi Hoax</h2>
    </div>
    <div style="margin-bottom: 20px; background-color: #fcfcfc; padding: 5px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        <div style="position: relative;">
            <form method="POST" action="/Deteksi">
                <label for="berita" style="color: #2B3467; font-size: 20px; font-weight: 500; padding-left: 10px;"> Judul / Konten Berita :</label><br>
                <div style="padding:5px 8px;">
                <textarea class="form-control" id="berita" name="input_data" rows="10" placeholder="Masukkan judul atau konten berita..." required></textarea>
                </div>
                <button type="submit" style="position: absolute; bottom: 15px; right: 20px; background-color: #2B3467; border-radius: 8px; padding: 5px; color: white;">Deteksi</button>
            </form>
        </div>
    </div>  
    <div style="margin-bottom: 20px; background-color: #fcfcfc; padding: 5px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);"> 
        <h3 style="padding:5px;color: #2B3467; font-size: 30px;padding-left: 10px;"> Hasil Prediksi : 
            <span id="result-span">
                <span id="ypred">{{ ypred }}</span> 
                <span id="probs">{{ probs }}</span>
            </span>
        </h3>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var ypredElement = document.getElementById('ypred');
            var probElement = document.getElementById('probs');
            var ypredValue = ypredElement.textContent.trim();
            var probValue = probElement.textContent.trim();
    
            if (ypredValue === 'nonHoax') {
                ypredElement.style.color = 'green';
                probElement.style.color = 'green';
            } else if (ypredValue === 'Hoax') {
                ypredElement.style.color = 'red';
                probElement.style.color = 'red';
            }
    
            localStorage.setItem('ypredColor', ypredElement.style.color);
            localStorage.setItem('probColor', probElement.style.color);
        });
    </script>
    
</div>
{% endblock %}
